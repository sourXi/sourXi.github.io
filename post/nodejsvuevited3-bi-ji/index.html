<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Node.JS+Vue+Vite+D3 笔记 | 酸希Hope_Tart</title>
<link rel="shortcut icon" href="https://sourxi.github.io//favicon.ico?v=1641279640693">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://sourxi.github.io//styles/main.css">
<link rel="alternate" type="application/atom+xml" title="Node.JS+Vue+Vite+D3 笔记 | 酸希Hope_Tart - Atom Feed" href="https://sourxi.github.io//atom.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">



    <meta name="description" content="认识一下🙌

Node.js  一个基于Chrome V8引擎的JavaScript运行环境，使用了一个事件驱动、非阻塞式I/O模型， 让JavaScript 运行在服务端的开发平台。
Vue  The Progressive JavaS..." />
    <meta name="keywords" content="笔记" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
    <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://sourxi.github.io/">
  <img class="avatar" src="https://sourxi.github.io//images/avatar.png?v=1641279640693" alt="">
  </a>
  <h1 class="site-title">
    酸希Hope_Tart
  </h1>
  <p class="site-description">
    给时间以生命。Live alive.
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          首页
        </a>
      
    
      
        <a href="/archives" class="menu">
          归档
        </a>
      
    
      
        <a href="/tags" class="menu">
          标签
        </a>
      
    
      
        <a href="/post/about" class="menu">
          关于
        </a>
      
    
  </div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              Node.JS+Vue+Vite+D3 笔记
            </h2>
            <div class="post-info">
              <span>
                2021-05-24
              </span>
              <span>
                6 min read
              </span>
              
                <a href="https://sourxi.github.io/tag/gmfcrh35K/" class="post-tag">
                  # 笔记
                </a>
              
            </div>
            
            <div class="post-content-wrapper">
              <div class="post-content">
                <h1 id="认识一下">认识一下🙌</h1>
<ul>
<li>Node.js  一个基于Chrome V8引擎的JavaScript运行环境，使用了一个事件驱动、非阻塞式I/O模型， 让JavaScript 运行在服务端的开发平台。</li>
<li>Vue  The Progressive JavaScript Framework目前最为流⾏的前端框架之⼀，不可否认的是它相比React 学习曲线要更为平缓。</li>
<li>Vite  Native-ESM powered web dev build tool. It's fast. 面向未来的前端构建工具。（Web开发构建工具、快速的冷启动、即时热模块更新、真正按需编译）</li>
<li>D3.js  是一个可以基于数据来操作文档的 JavaScript 库。（数据可视化用）</li>
<li>Npm 包管理工具（官方）</li>
<li>Yarn  包管理工具（第三方）</li>
</ul>
<h1 id="nodejs-初尝试">Node.js 初尝试👊</h1>
<p><a href="http://nodejs.cn/download/">[下载地址]</a><br>
控制台输入<code>node --version</code>验证是否已安装成功<br>
创建js文件 hello.js</p>
<pre><code>var http=require(&quot;http&quot;);
http.createServer(function(request,response){
    response.writeHead(200,{'Content-Type':'text/plain'});

    response.end('Hello World\n');
}).listen(8888);

console.log('Sever running at http://127.0.01:8888/');
</code></pre>
<p>在hello.js所在目录下，运行文件<br>
<img src="https://sourxi.github.io//post-images/1621996284817.png" alt="" loading="lazy"><br>
浏览器打开<code>http://127.0.01:8888</code><br>
<img src="https://sourxi.github.io//post-images/1621996368500.png" alt="" loading="lazy"></p>
<h1 id="安装yarn️">安装yarn✂️</h1>
<p>执行命令<code>npm install yarn</code></p>
<h1 id="git也是必须的win10这里安装过安装包去官网就可以找到">git也是必须的，win10这里安装过，安装包去官网就可以找到</h1>
<h1 id="vuevite-初尝试">Vue/Vite 初尝试👊</h1>
<ol>
<li>启动脚手架<br>
<code>yarn create @vitejs/app vue-d3-test</code> 生成预置的快速启动模板.</li>
<li>进入项目目录<code>cd a-test-app</code>，<code>yarn build</code> + <code>yarn dev</code>使用开发模式启动</li>
<li>网址输入<code>http://localhost:8080</code><br>
<img src="https://sourxi.github.io//post-images/1621995807314.png" alt="" loading="lazy"></li>
</ol>
<h1 id="vue目录结构">Vue目录结构</h1>
<figure data-type="image" tabindex="1"><img src="https://sourxi.github.io//post-images/1621996793755.png" alt="" loading="lazy"></figure>
<ul>
<li><strong>node_modules</strong>  不用管，极其不重要。即便手贱删掉，再次启动的时候也会🗡🗡地贴回来😃</li>
<li><strong>public</strong>  静态资源目录。大概就是图片啊、json啊什么的放在这里就好了</li>
<li><strong>src</strong>  重头戏来了。
<ul>
<li>assets  放置图片，如logo；</li>
<li>components  放置组件文件。会在App.vue中以标签方式引用；</li>
<li>App.vue  项目入口文件，由各种组件拼接在一起组成；</li>
<li>index.css  页面的样式文件；</li>
<li>main.js  主要负责最终html页面中的body部分；</li>
<li>index.html  网页文件，js部分引用main.js。</li>
</ul>
</li>
</ul>
<h1 id="d3直方图">D3直方图📊</h1>
<p>安装D3<br>
<code>yarn add d3</code><br>
安装axios<br>
<code>yarn add axios</code></p>
<p>代码如下<br>
BarChart.vue</p>
<pre><code>&lt;template&gt;
  &lt;h2&gt;201811153001 孙圆希 直方图&lt;/h2&gt;
  &lt;div id=&quot;bar-chart-container&quot;&gt;&lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
import { defineComponent } from &quot;vue&quot;;
import axios from &quot;axios&quot;;
import * as d3 from &quot;d3&quot;;

export default defineComponent({
  data() {
    return {
      color: &quot;steelblue&quot;,
      margin: { top: 30, right: 0, bottom: 30, left: 40 },
    };
  },
  /**
   * 在挂载后即开始执行
   */
  mounted() {
    axios.get(&quot;./alphabet.json&quot;).then((res) =&gt; {
      const barChartData = Object.assign(this.formatData(res.data), {
        format: &quot;%&quot;,
        y: &quot;↑ Frequency&quot;,
      });
      this.drawBarChart(barChartData);
    });
  },

  methods: {
    /**
     * 格式化数据
     */
    formatData(data) {
      return data
        .map(({ letter, frequency }) =&gt; {
          return { name: letter, value: frequency };
        })
        .sort((a, b) =&gt; d3.descending(a.value, b.value));
    },

    /**
     * 绘制直方图
     */
    drawBarChart(data) {
      const margin = this.margin;

      const width = 800;
      const height = 500;

      // 初始化 SVG 元素
      const svg = d3
        .select(&quot;#bar-chart-container&quot;)
        .append(&quot;svg&quot;)
        .attr(&quot;class&quot;, &quot;bar-chart&quot;)
        .attr(&quot;viewBox&quot;, `0 0 ${width} ${height}`)
        .attr(&quot;width&quot;, width)
        .attr(&quot;height&quot;, height)
        .append(&quot;g&quot;);

      // https://observablehq.com/@d3/d3-scaleband
      // x 轴的缩放比例尺
      const x = d3
        .scaleBand()
        .domain(d3.range(data.length))
        .range([margin.left, width - margin.right])
        .padding(0.1);

      // y 轴的缩放比例尺
      const y = d3
        .scaleLinear()
        .domain([0, d3.max(data, (d) =&gt; d.value)])
        .nice()
        .range([height - margin.bottom, margin.top]);

      // x 坐标轴
      // tickSizeOuter(0) 移除 0 处初始的标记
      // tickFormat https://github.com/d3/d3-scale/blob/master/README.md#tickFormat
      const xAxis = (g) =&gt;
        g.attr(&quot;transform&quot;, `translate(0,${height - margin.bottom})`).call(
          d3
            .axisBottom(x)
            .tickFormat((i) =&gt; data[i].name)
            .tickSizeOuter(0)
        );

      // y 坐标轴
      const yAxis = (g) =&gt;
        g
          .attr(&quot;transform&quot;, `translate(${margin.left},0)`)
          .call(d3.axisLeft(y).ticks(null, data.format))
          // 移除区域间的竖线
          .call((g) =&gt; g.select(&quot;.domain&quot;).remove())
          .call((g) =&gt;
            g
              .append(&quot;text&quot;)
              .attr(&quot;x&quot;, -margin.left)
              .attr(&quot;y&quot;, 10)
              .attr(&quot;fill&quot;, &quot;currentColor&quot;)
              .attr(&quot;text-anchor&quot;, &quot;start&quot;)
              .text(data.y)
          );

      svg
        .append(&quot;g&quot;)
        .attr(&quot;fill&quot;, this.color)
        .selectAll(&quot;rect&quot;)
        .data(data)
        .join(&quot;rect&quot;)
        .attr(&quot;x&quot;, (d, i) =&gt; x(i))
        .attr(&quot;y&quot;, (d) =&gt; y(d.value))
        .attr(&quot;height&quot;, (d) =&gt; y(0) - y(d.value))
        .attr(&quot;width&quot;, x.bandwidth());

      // 绘制到 SVG
      svg.append(&quot;g&quot;).call(xAxis);
      svg.append(&quot;g&quot;).call(yAxis);
    },
  },
});
&lt;/script&gt;
</code></pre>
<p>App.vue</p>
<pre><code>&lt;template&gt;
  &lt;img alt=&quot;Vue logo&quot; src=&quot;./assets/logo.png&quot; /&gt;
  &lt;HelloWorld msg=&quot;Hello&quot; /&gt;
  &lt;bar-chart /&gt;
  &lt;test-axios /&gt;

&lt;/template&gt;

&lt;script setup&gt;
import HelloWorld from &quot;./components/HelloWorld.vue&quot;;
import TestAxios from &quot;./components/TestAxios.vue&quot;;
import BarChart from &quot;./components/BarChart.vue&quot;;
&lt;/script&gt;
</code></pre>
<h1 id="结束">结束</h1>
<p>至此，我们的vue+d3可视化项目页面大概长这样。<br>
<img src="https://sourxi.github.io//post-images/1621997340530.jpg" alt="" loading="lazy"><br>
我在学习中的感受是，vue热重载真的很好用，u1s1比我现在写博客的这个还好用，不用考虑浏览器数据什么的真的很香。不过vue框架要想用好用熟绝不是这一两节课就能一蹴而就的，有时间的话好好研究一下应该会挺有趣的啦👽👻</p>

              </div>
              <div class="toc-container">
                <ul class="markdownIt-TOC">
<li><a href="#%E8%AE%A4%E8%AF%86%E4%B8%80%E4%B8%8B">认识一下🙌</a></li>
<li><a href="#nodejs-%E5%88%9D%E5%B0%9D%E8%AF%95">Node.js 初尝试👊</a></li>
<li><a href="#%E5%AE%89%E8%A3%85yarn%EF%B8%8F">安装yarn✂️</a></li>
<li><a href="#git%E4%B9%9F%E6%98%AF%E5%BF%85%E9%A1%BB%E7%9A%84win10%E8%BF%99%E9%87%8C%E5%AE%89%E8%A3%85%E8%BF%87%E5%AE%89%E8%A3%85%E5%8C%85%E5%8E%BB%E5%AE%98%E7%BD%91%E5%B0%B1%E5%8F%AF%E4%BB%A5%E6%89%BE%E5%88%B0">git也是必须的，win10这里安装过，安装包去官网就可以找到</a></li>
<li><a href="#vuevite-%E5%88%9D%E5%B0%9D%E8%AF%95">Vue/Vite 初尝试👊</a></li>
<li><a href="#vue%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84">Vue目录结构</a></li>
<li><a href="#d3%E7%9B%B4%E6%96%B9%E5%9B%BE">D3直方图📊</a></li>
<li><a href="#%E7%BB%93%E6%9D%9F">结束</a></li>
</ul>

              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">下一篇</div>
            <a href="https://sourxi.github.io/post/stem-seg-lun-wen-yue-du/">
              <h3 class="post-title">
                STEm-Seg论文阅读
              </h3>
            </a>
          </div>
        

        
          
            <script src='//unpkg.com/valine/dist/Valine.min.js'></script>
<div id="vcomments"></div>
    <script>
        new Valine({
            el: '#vcomments',
            appId: 'hSqTTi7wcuvYXGtEFMmdOXAc-gzGzoHsz',
            appKey: 'x1d9O43dpTmYrYCIo99oGaXo'
        })
    </script>

          

          
        

        <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
  <a class="rss" href="https://sourxi.github.io//atom.xml" target="_blank">
    <i class="ri-rss-line"></i> RSS
  </a>
</div>

      </div>
    </div>

    <script>
      hljs.initHighlightingOnLoad()

      let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

      // This should probably be throttled.
      // Especially because it triggers during smooth scrolling.
      // https://lodash.com/docs/4.17.10#throttle
      // You could do like...
      // window.addEventListener("scroll", () => {
      //    _.throttle(doThatStuff, 100);
      // });
      // Only not doing it here to keep this Pen dependency-free.

      window.addEventListener("scroll", event => {
        let fromTop = window.scrollY;

        mainNavLinks.forEach((link, index) => {
          let section = document.getElementById(decodeURI(link.hash).substring(1));
          let nextSection = null
          if (mainNavLinks[index + 1]) {
            nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
          }
          if (section.offsetTop <= fromTop) {
            if (nextSection) {
              if (nextSection.offsetTop > fromTop) {
                link.classList.add("current");
              } else {
                link.classList.remove("current");    
              }
            } else {
              link.classList.add("current");
            }
          } else {
            link.classList.remove("current");
          }
        });
      });

    </script>
	  
  </body>
</html>
